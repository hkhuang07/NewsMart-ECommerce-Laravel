/* Custom CSS for Navbar and Sidebar */
:root {
    --primary-super-dark: #000624;
    --primary-dark: #1A2A80;
    --primary-medium: #3B38A0;
    --primary-light: #7A85C1;
    --primary-lighter: #B2B0E8;
    --accent-dark: #19183B;
    --accent-medium: #708993;
    --accent-light: #A1C2BD;
    --accent-lighter: #E7F2EF;
    --light-blue: #E0EEEE;
    --white-smoke: #F5F5F5;
}

/* Body and general styles */
body {
    background-color: var(--white-smoke);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

/* Navbar horizontal */
.navbar-custom {
    /*background: linear-gradient(90deg, var(--primary-dark) 0%, var(--primary-medium) 100%);  */
    background:linear-gradient(135deg, var(--accent-dark) 0%, #000624 100%);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    min-height: 60px;
    white-space: nowrap;
}

.navbar-custom .navbar-brand {
    color: white !important;
    font-weight: bold;
    font-size: 1.3rem;
}

.navbar-custom .navbar-nav .nav-link {
    color: rgba(255,255,255,0.9) !important;
    font-weight: 500;
    transition: all 0.3s ease;
    padding: 0.5rem 1rem;
	
}

.navbar-custom .navbar-nav .nav-link:hover {
    color: white !important;
    background-color: rgba(255,255,255,0.1);
    border-radius: 4px;
}

.navbar-custom .dropdown-menu {
    background-color: var(--accent-lighter);
    border: none;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}

.navbar-custom .dropdown-item {
    color: var(--primary-dark);
    transition: all 0.3s ease;
}

.navbar-custom .dropdown-item:hover {
    background-color: var(--primary-light);
    color: white;
}

.navbar-toggle {
    border: solid 2px #E6E6FA;
    background: #000624;
    color: #E6E6FA;
    font-size: 1.2rem;
    margin-right: 1rem;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    transition: all 0.3s ease;
    display: none;
}


/* Sidebar toggle button */
.sidebar-toggle {
    background: none;
    border: none;
    color: white;
    font-size: 1.2rem;
    margin-right: 1rem;
    padding: 0.375rem 0.75rem;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.sidebar-toggle:hover {
    background-color: rgba(255,255,255,0.1);
}

/* Search form */
.search-form {
    max-width: 400px;
    margin: 0 auto;
}

.search-form .form-control {
    border-radius: 20px 0 0 20px;
    border: none;
    background-color: rgba(255,255,255,0.9);
}

.search-form .btn {
    border-radius: 0 20px 20px 0;
    border: none;
    background-color: var(--accent-light);
    color: var(--primary-dark);
}

.search-form .btn:hover {
    background-color: var(--accent-medium);
    color: white;
}

/* Sidebar styles */
.sidebar {
    position: fixed;
    top: 0;
    left: -280px;
    width: 280px;
    height: 100vh;
    background:linear-gradient(135deg, var(--accent-dark) 0%, #000624 100%);
    z-index: 1050;
    transition: all 0.3s ease;
    overflow-y: auto;
    box-shadow: 2px 0 10px rgba(0,0,0,0.1);
}

.sidebar.show {
    left: 0;
}

.sidebar-header {
    padding: 1rem;
    background-color: rgba(0,0,0,0.1);
    border-bottom: 1px solid rgba(255,255,255,0.1);
}

.sidebar-header h5 {
    color: white;
    margin: 0;
    font-weight: bold;
}

.sidebar-close {
    background: none;
    border: none;
    color: white;
    font-size: 1.2rem;
    float: right;
    padding: 0;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    transition: all 0.3s ease;
}

.sidebar-close:hover {
    background-color: rgba(255,255,255,0.1);
}

.sidebar-nav {
    padding: 0;
    margin: 0;
    list-style: none;
}

.sidebar-nav .nav-item {
    border-bottom: 1px solid rgba(255,255,255,0.05);
}

.sidebar-nav .nav-link {
    display: block;
    padding: 0.75rem 1rem;
    color: rgba(255,255,255,0.9);
    text-decoration: none;
    transition: all 0.3s ease;
    font-weight: 500;
}

.sidebar-nav .nav-link:hover {
    background-color: rgba(255,255,255,0.1);
    color: white;
    text-decoration: none;
}

.sidebar-nav .nav-link i {
    width: 20px;
    margin-right: 10px;
}

/* Sidebar sections */
.sidebar-section {
    margin: 1rem 0;
}

.sidebar-section-title {
    color: var(--primary-lighter);
    font-size: 0.85rem;
    font-weight: bold;
    text-transform: uppercase;
    padding: 0.5rem 1rem;
    margin: 0;
    letter-spacing: 0.5px;
}

/* Sidebar dropdowns */
.sidebar-dropdown {
    background: none;
    border: none;
    width: 100%;
    text-align: left;
    padding: 0.75rem 1rem;
    color: rgba(255,255,255,0.9);
    transition: all 0.3s ease;
    font-weight: 500;
    cursor: pointer;
}

.sidebar-dropdown:hover {
    background-color: rgba(255,255,255,0.1);
    color: white;
}

.sidebar-dropdown i {
    width: 20px;
    margin-right: 10px;
}

.sidebar-dropdown .dropdown-icon {
    float: right;
    transition: transform 0.3s ease;
}

.sidebar-dropdown.collapsed .dropdown-icon {
    transform: rotate(-90deg);
}

.sidebar-submenu {
    background-color: rgba(0,0,0,0.2);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.sidebar-submenu.show {
    max-height: 500px;
}

.sidebar-submenu .nav-link {
    padding-left: 3rem;
    font-size: 0.9rem;
    color: rgba(255,255,255,0.8);
}

.sidebar-submenu .nav-link:hover {
    color: white;
    background-color: rgba(255,255,255,0.05);
}

/* Overlay */
.sidebar-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
    z-index: 1040;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.sidebar-overlay.show {
    opacity: 1;
    visibility: visible;
}

/* Theme and language toggles */
.theme-toggle, .lang-toggle {
    background: none;
    border: none;
    color: rgba(255,255,255,0.9);
    padding: 0.75rem 1rem;
    width: 100%;
    text-align: left;
    transition: all 0.3s ease;
    cursor: pointer;
}

.theme-toggle:hover, .lang-toggle:hover {
    background-color: rgba(255,255,255,0.1);
    color: white;
}

/* Badge styles */
.badge-role {
    background-color: var(--accent-light);
    color: var(--primary-dark);
    font-size: 0.7rem;
    padding: 0.25rem 0.5rem;
    border-radius: 10px;
    margin-left: 0.5rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .navbar-nav .nav-item {
        margin: 0;
    }
    
    .search-form {
        max-width: 100%;
        margin: 0.5rem 0;
    }
    
    .sidebar {
        width: 100%;
        left: -100%;
    }
}

/* Main content adjustment when sidebar is open */
.main-content {
    transition: margin-left 0.3s ease;
}

.main-content.sidebar-open {
    margin-left: 280px;
}

@media (max-width: 768px) {
    .main-content.sidebar-open {
        margin-left: 0;
    }
}

/* Footer */
footer {
    background: linear-gradient(135deg, var(--accent-dark) 0%, #000624 100%);
    color: #F0F8FF;
    padding: 0;
    margin-top: 2rem;
    border-top: 1px solid var(--primary-medium);
}

.footer-service-intro {
    background: linear-gradient(135deg, #030104 0%, var(--accent-dark) 100%);
    border: 1px solid var(--primary-medium);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

.footer-service-intro h2 {
    color: #E0FFFF;
}

.footer-service-intro p {
    color: #E6E6FA;
    line-height: 1.6;
}

.footer-service-intro .highlight {
    color: #98F5FF;
    font-weight: 600;
}

.footer-column {
    background: linear-gradient(135deg, #030104 0%, var(--accent-dark) 100%);
    border: 1px solid var(--primary-medium);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.footer-column h3 {
    color: #98F5FF;
    font-weight: bold;
}

.footer-link-item {
    background-color: #1a1a2e;
    height: 40px;
    display: flex;
    align-items: center;
    padding: 0 0.75rem;
    margin-bottom: 2px;
    border-radius: 2px;
    transition: all 0.3s ease;
    color: #d1d5db;
    text-decoration: none;
}

.footer-link-item:hover {
    color: #98F5FF;
    background-color: rgba(152, 245, 255, 0.1);
    transform: translateX(2px);
}

.footer-info-item {
    background-color: #1a1a2e;
    height: 40px;
    display: flex;
    align-items: center;
    padding: 0 0.75rem;
    margin-bottom: 2px;
    border-radius: 2px;
    color: #d1d5db;
}

.footer-app-section {
    text-align: center;
}

.footer-qr-placeholder {
    width: 120px;
    height: 120px;
    background: linear-gradient(45deg, var(--primary-light), var(--primary-lighter));
    border: 2px dashed #98F5FF;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    border-radius: 8px;
    color: var(--primary-dark);
    font-weight: bold;
}

.footer-app-button {
    background: linear-gradient(45deg, var(--primary-medium), var(--primary-light));
    border: 1px solid #98F5FF;
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 8px;
    text-decoration: none;
    display: inline-block;
    margin: 0.25rem;
    transition: all 0.3s ease;
    font-weight: 500;
}

.footer-app-button:hover {
    background: linear-gradient(45deg, var(--primary-light), var(--primary-lighter));
    color: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(152, 245, 255, 0.3);
}

.footer-bottom {
    border-top: 1px solid var(--primary-medium);
    background: rgba(0, 0, 0, 0.3);
    color: #B0B0C0;
}

.footer-bottom-links a {
    color: #98F5FF;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
}

.footer-bottom-links a:hover {
    text-decoration: underline;
    color: #E0FFFF;
}

.footer-company-info {
    color: white;
    font-weight: 600;
}

.footer-highlight {
    color: #98F5FF;
    font-weight: 600;
}

/* Custom scrollbar for sidebar */
.sidebar::-webkit-scrollbar {
    width: 5px;
}

.sidebar::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.1);
}

.sidebar::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.3);
    border-radius: 10px;
}

.sidebar::-webkit-scrollbar-thumb:hover {
    background: rgba(255,255,255,0.5);
}

/* Dark Mode Styles */
.dark-mode {
    background-color: #1a1a1a;
    color: #f0f0f0;
}

.dark-mode .navbar-custom {
    background: linear-gradient(90deg, #0f1729 0%, #1a2040 100%);
}

.dark-mode .sidebar {
    background: linear-gradient(180deg, #0f1729 0%, #1a1a2e 100%);
}

.dark-mode .dropdown-menu {
    background-color: #2a2a2a;
    border-color: #3a3a3a;
}

.dark-mode .dropdown-item {
    color: #f0f0f0;
}

.dark-mode .dropdown-item:hover {
    background-color: var(--primary-light);
    color: white;
}

.dark-mode .search-form .form-control {
    background-color: #2a2a2a;
    border-color: #3a3a3a;
    color: #f0f0f0;
}

.dark-mode .search-form .form-control::placeholder {
    color: #999;
}

.dark-mode footer {
    background: linear-gradient(135deg, #0f0f0f 0%, #000000 100%);
    color: #f0f0f0;
    border-color: #333;
}

.dark-mode .footer-service-intro {
    background: linear-gradient(135deg, #000000 0%, #0f0f0f 100%);
    border-color: #333;
}

.dark-mode .footer-column {
    background: linear-gradient(135deg, #000000 0%, #0f0f0f 100%);
    border-color: #333;
}

.dark-mode .footer-link-item {
    background-color: #111;
    color: #ccc;
}

.dark-mode .footer-link-item:hover {
    background-color: rgba(152, 245, 255, 0.2);
    color: #98F5FF;
}

.dark-mode .footer-info-item {
    background-color: #111;
    color: #ccc;
}

.dark-mode .footer-bottom {
    background: rgba(0, 0, 0, 0.6);
    border-color: #333;
}

/* Animation improvements */
.navbar-custom .nav-link,
.sidebar-nav .nav-link,
.sidebar-dropdown,
.theme-toggle,
.lang-toggle {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar {
    transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-overlay {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Loading states */
.nav-link:active,
.sidebar-dropdown:active {
    transform: scale(0.98);
}

/* Focus states for accessibility */
.sidebar-toggle:focus,
.sidebar-close:focus,
.nav-link:focus,
.sidebar-dropdown:focus {
    outline: 2px solid var(--primary-lighter);
    outline-offset: 2px;
}

/* ===================================
   NAVBAR LOGO STYLING
   =================================== */

.navbar-brand {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    font-weight: 600;
    transition: all 0.3s ease;
    color: white !important;
}

.navbar-brand:hover {
    text-decoration: none;
    color: white !important;
    transform: scale(1.02);
}

.navbar-logo {
    height: 40px;
    object-fit: contain;
    border-radius: 4px;
    background-color: rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
    filter: brightness(1.1);
}

.navbar-logo:hover {
    transform: scale(1.1);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 2px 8px rgba(255, 255, 255, 0.3);
}

/* Brand Text */
.brand-text {
    font-size: 1.25rem;
    font-weight: 600;
    color: inherit;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* Responsive Design cho Logo */
@media (max-width: 768px) {
    .navbar-logo {
        height: 28px;
        width: 28px;
    }
    
    .brand-text {
        font-size: 1.1rem;
    }
    
    .navbar-brand {
        gap: 8px;
        padding: 0.25rem 0.75rem;
    }

    .navbar-toggle {
        display: block;
    }
}

@media (max-width: 576px) {
    .navbar-logo {
        height: 24px;
        width: 24px;
    }
    
    .brand-text {
        font-size: 1rem;
    }
    
    .navbar-brand {
        gap: 6px;
    }

    .navbar-toggle {
        display: block;
    }
    
}

.navbar-brand:active {
    transform: scale(0.98);
}

.navbar-brand:focus {
    outline: 2px solid rgba(255, 255, 255, 0.5);
    outline-offset: 2px;
    border-radius: 4px;
}

/* Dark Mode adjustments */
.dark-mode .navbar-logo {
    filter: brightness(1.2) contrast(1.1);
    background-color: rgba(255, 255, 255, 0.05);
}

.dark-mode .navbar-logo:hover {
    background-color: rgba(255, 255, 255, 0.15);
}

.navbar-logo-circle {
    border-radius: 50%;
}

.navbar-logo-large {
    height: 40px;
    width: 40px;
}

.navbar-logo-large + .brand-text {
    font-size: 1.4rem;
}

@keyframes logoFadeIn {
    from {
        opacity: 0;
        transform: scale(0.8);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

.navbar-logo {
    animation: logoFadeIn 0.5s ease-out;
}

/* ===================================
   FIX FOCUS/ACTIVE OUTLINE CHO N√öT ACCOUNT (TH√äM)
   =================================== */

/* √Åp d·ª•ng cho n√∫t Account tr√™n Navbar (.nav-link.dropdown-toggle) */
.navbar-custom .nav-link.dropdown-toggle:focus,
.navbar-custom .nav-link.dropdown-toggle:active, 
.navbar-custom .nav-link.dropdown-toggle.show,
.navbar-custom .nav-link.dropdown-toggle[aria-expanded="true"]
{
    /* 1. Lo·∫°i b·ªè vi·ªÅn outline (vi·ªÅn ƒëen/xanh c·ªßa tr√¨nh duy·ªát/CSS c≈©) */
    outline: none !important;
    
    /* 2. Lo·∫°i b·ªè box-shadow (th∆∞·ªùng l√† vi·ªÅn focus m√†u xanh c·ªßa Bootstrap) */
    box-shadow: none !important; 
    
    /* 3. ƒê·∫£m b·∫£o kh√¥ng b·ªã hi·ªáu ·ª©ng n·ªÅn khi click */
    background-color: transparent !important;
}
/* ===================================
   FIX GHI ƒê√à DARK MODE CHO SHOPPING CART OFFCANVAS
   =================================== */

/* 1. N·ªÄN V√Ä CH·ªÆ T·ªîNG TH·ªÇ */
/* S·ª≠ d·ª•ng !important v√† selector m·∫°nh h∆°n (div#shoppingCart) */
body.dark-mode div#shoppingCart {
    background-color: #000624;
    color: #f0f0f0;
}

/* 2. VI·ªÄN PH√ÇN T√ÅCH (Header v√† Footer) */
body.dark-mode div#shoppingCart .offcanvas-header {
    border-color: var(--primary-dark) !important; 
}

/* 3. M√ÄU CH·ªÆ C√ÅC TI√äU ƒê·ªÄ V√Ä TEXT */
body.dark-mode div#shoppingCart h4.offcanvas-title,
body.dark-mode div#shoppingCart .h6,
body.dark-mode div#shoppingCart .text-light-emphasis,
body.dark-mode div#shoppingCart a.animate-target {
    color: var(--white-smoke) !important;
}

/* 4. BACKGROUND H√åNH ·∫¢NH (Ph·∫ßn n·ªÅn x√°m nh·∫°t) */
/* Ghi ƒë√® class Bootstrap bg-body-tertiary */
body.dark-mode div#shoppingCart .bg-body-tertiary {
    background-color: var(--primary-dark) !important;
}

/* 5. N√öT ƒê√ìNG OFFCANVAS (X) */
body.dark-mode div#shoppingCart .btn-close {
    /* ƒê·∫£o ng∆∞·ª£c m√†u s·∫Øc ƒë·ªÉ n√∫t ƒë√≥ng th√†nh m√†u s√°ng */
    filter: invert(1) grayscale(100%) brightness(200%) !important; 
}

/* 6. N√öT GIO H√ÄNG/CHECKOUT (btn-lg btn-dark) */
body.dark-mode div#shoppingCart a.btn-dark {
    background-color: var(--primary-medium) !important; 
    border-color: var(--primary-medium) !important;
    color: var(--white-smoke) !important;
}
body.dark-mode div#shoppingCart a.btn-dark:hover {
    background-color: var(--primary-dark) !important; 
    border-color: var(--primary-dark) !important;
}
/* ƒê·∫£m b·∫£o n·ªÅn c·ªßa b·∫£ng Gi·ªè h√†ng (Cart Table) tr√πng v·ªõi m√†u n·ªÅn Body */
/* Bu·ªôc b·∫£ng Gi·ªè h√†ng (Cart Table) c√≥ m√†u n·ªÅn gi·ªëng m√†u n·ªÅn body #F5F5F5 */

/* 1. √Åp d·ª•ng n·ªÅn cho to√†n b·ªô Table (Selector m·∫°nh h∆°n) */
.col-lg-8 .table {
    background-color: var(--white-smoke) !important;
    --bs-table-bg: var(--white-smoke) !important; 
    
    /* ƒê·∫£m b·∫£o vi·ªÅn trong su·ªët ho·∫∑c vi·ªÅn nh·∫°t ƒë·ªÉ ph√π h·ª£p v·ªõi n·ªÅn */
    --bs-table-border-color: #E0E0E0;
}

/* 2. Bu·ªôc c√°c h√†ng (<tr>) v√† c√°c √¥ (<td>) kh√¥ng c√≥ m√†u n·ªÅn tr·∫Øng */
.col-lg-8 .table tbody tr,
.col-lg-8 .table tbody td {
    background-color: transparent !important;
    --bs-table-bg: transparent !important; 
}

/* 3. Tinh ch·ªânh c√°c h√†ng (tr) ƒë·ªÉ tr√°nh hi·ªáu ·ª©ng hover/striped */
.col-lg-8 .table tbody tr:nth-child(even) {
    background-color: transparent !important;
}
/* Bu·ªôc h√†ng ti√™u ƒë·ªÅ c√≥ m√†u n·ªÅn gi·ªëng m√†u n·ªÅn Body */
.col-lg-8 .table thead, 
.col-lg-8 .table thead th {
    background-color: var(--white-smoke) !important;
    --bs-table-bg: var(--white-smoke) !important;
    
    /* ƒê·∫£m b·∫£o ch·ªØ ti√™u ƒë·ªÅ c√≥ m√†u t·ªëi ƒë·ªÉ d·ªÖ ƒë·ªçc */
    color: var(--primary-dark) !important; 
}

/* ƒê·∫£m b·∫£o kh√¥ng c√≥ vi·ªÅn th·ª´a ph√≠a tr√™n (n·∫øu c√≥) */
.col-lg-8 .table thead {
    border-top: none !important;
}
/* ===================================
   DARK MODE CHO SHOPPING CART TABLE
   =================================== */

/* √Åp d·ª•ng n·ªÅn t·ªëi cho to√†n b·ªô b·∫£ng */
body.dark-mode .col-lg-8 .table {
    background-color: var(--primary-super-dark) !important; /* M√†u n·ªÅn r·∫•t t·ªëi */
    color: var(--white-smoke) !important; /* M√†u ch·ªØ s√°ng */
    --bs-table-bg: var(--primary-super-dark) !important;
    --bs-table-color: var(--white-smoke) !important;
    --bs-table-border-color: var(--accent-dark); /* Vi·ªÅn ƒë·∫≠m h∆°n */
}

/* Ti√™u ƒë·ªÅ b·∫£ng (Thead) */
body.dark-mode .col-lg-8 .table thead,
body.dark-mode .col-lg-8 .table thead th {
    background-color: var(--primary-super-dark) !important;
    color: var(--white-smoke) !important; 
}

/* N·ªÅn c√°c h√†ng (tr) v√† √¥ (td) b√™n trong */
body.dark-mode .col-lg-8 .table tbody tr,
body.dark-mode .col-lg-8 .table tbody td {
    background-color: transparent !important; /* ƒê·∫£m b·∫£o n·ªÅn trong su·ªët */
    color: var(--white-smoke) !important;
}

/* ƒêi·ªÅu ch·ªânh m√†u ch·ªØ v√† c√°c chi ti·∫øt */
body.dark-mode .col-lg-8 .table h5 a {
    color: var(--primary-light) !important; /* M√†u xanh nh·∫°t cho t√™n s·∫£n ph·∫©m */
}

body.dark-mode .col-lg-8 .table .text-body {
    color: var(--white-smoke) !important; /* Ch·ªØ th∆∞·ªùng */
}

/* Vi·ªÅn v√† m√†u n·ªÅn c·ªßa COUNT INPUT (TƒÉng/Gi·∫£m s·ªë l∆∞·ª£ng) */
body.dark-mode .count-input {
    border-color: var(--primary-dark) !important; /* Vi·ªÅn t·ªëi h∆°n */
}

body.dark-mode .count-input .form-control {
    background-color: transparent !important;
    border-color: var(--primary-dark) !important; 
    color: var(--white-smoke) !important; /* Ch·ªØ s·ªë l∆∞·ª£ng s√°ng */
}

/* N√∫t TƒÉng/Gi·∫£m */
body.dark-mode .count-input .btn {
    color: var(--white-smoke) !important; 
    border-color: var(--primary-dark) !important;
}

/* N√∫t X√≥a (D·∫•u 'x') */
body.dark-mode .btn-close {
    /* ƒê·∫£o ng∆∞·ª£c m√†u s·∫Øc ƒë·ªÉ d·∫•u 'x' th√†nh m√†u s√°ng */
    filter: invert(1) grayscale(100%);
    opacity: 0.8; 
}

/* Bu·ªôc body v√† content-wrapper c√≥ n·ªÅn t·ªëi trong Dark Mode */
body.dark-mode,
body.dark-mode main.content-wrapper {
    background-color: var(--primary-super-dark) !important;
}

/* Fix kh·ªëi T√≥m t·∫Øt ƒë∆°n h√†ng (Order Summary) */
/* Ghi ƒë√® class Bootstrap bg-body-tertiary */
body.dark-mode .bg-body-tertiary {
    background-color: var(--accent-dark) !important; /* D√πng m√†u t·ªëi h∆°n m·ªôt ch√∫t cho kh·ªëi n√†y */
    color: var(--white-smoke) !important;
}

/* ƒê·∫£m b·∫£o vi·ªÅn ph√¢n t√°ch b√™n trong kh·ªëi t√≥m t·∫Øt c≈©ng t·ªëi */
body.dark-mode .bg-body-tertiary .border-bottom,
body.dark-mode .bg-body-tertiary .border-top {
    border-color: var(--primary-dark) !important;
}
/* Fix ch·ªØ v√† ti√™u ƒë·ªÅ trong khu v·ª±c Gi·ªè h√†ng v√† T√≥m t·∫Øt ƒë∆°n h√†ng */
body.dark-mode .container,
body.dark-mode .section {
    color: var(--white-smoke) !important;
}

/* Fix Ti√™u ƒë·ªÅ trang (Gi·ªè h√†ng) */
body.dark-mode h1.h3,
body.dark-mode h5 {
    color: var(--white-smoke) !important;
}

/* Fix ch·ªØ trong Breadcrumb */
body.dark-mode .breadcrumb .breadcrumb-item,
body.dark-mode .breadcrumb .breadcrumb-item a {
    color: var(--primary-light) !important; /* M√†u s√°ng h∆°n cho li√™n k·∫øt */
}
body.dark-mode .breadcrumb .breadcrumb-item.active {
    color: var(--white-smoke) !important;
}
/* Fix ch·ªØ trong kh·ªëi T√≥m t·∫Øt ƒë∆°n h√†ng */
body.dark-mode .bg-body-tertiary,
body.dark-mode .bg-body-tertiary ul,
body.dark-mode .bg-body-tertiary ul li {
    color: var(--white-smoke) !important;
}

/* Fix ch·ªØ "T·ªïng ∆∞·ªõc t√≠nh" v√† s·ªë ti·ªÅn l·ªõn */
body.dark-mode .bg-body-tertiary .h5,
body.dark-mode .bg-body-tertiary .fs-sm,
body.dark-mode .bg-body-tertiary .text-dark-emphasis {
    color: var(--white-smoke) !important;
}

/* Fix c√°c l·ªõp m√†u c·ª• th·ªÉ c·ªßa Cartzilla n·∫øu ch√∫ng v·∫´n hi·ªÉn th·ªã m√†u t·ªëi */
body.dark-mode .text-dark-emphasis {
    color: var(--white-smoke) !important;
}
body.dark-mode .text-body-secondary {
    color: var(--accent-light) !important;
}

/* Fix m√†u ch·ªØ cho li√™n k·∫øt "Ti·∫øp t·ª•c mua h√†ng" */
body.dark-mode .nav-link.animate-underline,
body.dark-mode .nav-link.animate-underline .animate-target {
    /* Bu·ªôc ch·ªØ c√≥ m√†u s√°ng (s·ª≠ d·ª•ng m√†u primary-light cho li√™n k·∫øt) */
    color: var(--primary-light) !important; 
}

/* Fix m√†u icon (ci-chevron-left) */
body.dark-mode .nav-link.animate-underline i {
    color: var(--primary-light) !important; 
}

/* Fix hi·ªáu ·ª©ng g·∫°ch ch√¢n/hover n·∫øu c√≥ */
body.dark-mode .nav-link.animate-underline:hover {
    color: var(--white-smoke) !important;
}
/* Bu·ªôc m√†u ch·ªØ v√† m√†u n·ªÅn cho input s·ªë l∆∞·ª£ng trong Dark Mode */
body.dark-mode .count-input .form-control {
    /* M√ÄU CH·ªÆ: Bu·ªôc th√†nh m√†u s√°ng */
    color: var(--white-smoke) !important; 
    
    /* M√ÄU N·ªÄN: ƒê·∫£m b·∫£o trong su·ªët ƒë·ªÉ l·ªô n·ªÅn b·∫£ng t·ªëi */
    background-color: transparent !important;
    
    /* M√ÄU VI·ªÄN: S√°ng m√†u ƒë·ªÉ nh√¨n r√µ h∆°n */
    border-color: var(--accent-light) !important; 
}

/* =================================================================
   FIX CU·ªêI C√ôNG: Bu·ªôc m√†u ch·ªØ input s·ªë l∆∞·ª£ng th√†nh White Smoke
   ================================================================= */

/* Selector ∆∞u ti√™n cao nh·∫•t cho input s·ªë l∆∞·ª£ng */
body.dark-mode .col-lg-8 .table .count-input .form-control,
body.dark-mode .col-lg-8 .table .count-input .form-control:hover,
body.dark-mode .col-lg-8 .table .count-input .form-control:focus,
body.dark-mode .col-lg-8 .table .count-input .form-control:active {
    /* 1. M√ÄU CH·ªÆ: √Åp d·ª•ng m√†u s√°ng */
    color: var(--white-smoke) !important;
    
    /* 2. M√ÄU N·ªÄN: ƒê·∫£m b·∫£o trong su·ªët */
    background-color: transparent !important;
    
    /* 3. Y√™u c·∫ßu tr√¨nh duy·ªát s·ª≠ d·ª•ng b·∫£ng m√†u t·ªëi */
    color-scheme: dark !important; 
    
    /* 4. Ghi ƒë√® m√†u Autofill/Browser Default (d√πng cho Chrome/Edge/Safari) */
    -webkit-text-fill-color: var(--white-smoke) !important;
    -webkit-box-shadow: 0 0 0 30px var(--primary-super-dark) inset !important;
}
/* Bu·ªôc m√†u ch·ªØ c·ªßa icon d·∫•u +/- th√†nh m√†u s√°ng */
body.dark-mode .col-lg-8 .table .count-input .btn i,
body.dark-mode .col-lg-8 .table .count-input .btn a i {
    color: var(--white-smoke) !important;
    
    /* ƒê·∫∑t filter ƒë·ªÉ bu·ªôc n√≥ l√† m√†u tr·∫Øng (ghi ƒë√® icon font) */
    filter: brightness(0) invert(1) !important; 
}
/* Bu·ªôc m√†u ch·ªØ cho ch√≠nh th·∫ª button (ƒë·ªÉ icon k·∫ø th·ª´a) */
body.dark-mode .col-lg-8 .table .count-input .btn {
    color: var(--white-smoke) !important;
    background-color: transparent !important; /* Gi·ªØ n·ªÅn trong su·ªët */
}
/* =================================================================
   FIX D·ª®T ƒêI·ªÇM B·∫∞NG GHI ƒê√à CSS VARIABLE G·ªêC C·ª¶A THEME
   ================================================================= */

/* 1. Ghi ƒë√® bi·∫øn m√†u ch·ªØ g·ªëc cho DARK MODE */
body.dark-mode {
    /* ƒê·∫∑t m√†u ch·ªØ m·∫∑c ƒë·ªãnh c·ªßa Body v√† Text th√†nh m√†u s√°ng */
    color: var(--white-smoke) !important;
    --bs-body-color: var(--white-smoke) !important; /* Ghi ƒë√® bi·∫øn Bootstrap */
}

/* 2. Ghi ƒë√® M√†u ch·ªØ trong Table (ƒë√£ c√≥ nh∆∞ng l·∫∑p l·∫°i ƒë·ªÉ ch·∫Øc ch·∫Øn) */
body.dark-mode .table,
body.dark-mode .table td {
    color: var(--white-smoke) !important;
    --bs-table-color: var(--white-smoke) !important;
}


/* 3. Ghi ƒë√® TUY·ªÜT ƒê·ªêI cho Font Awesome Icon */
body.dark-mode .count-input .btn i.fas,
body.dark-mode .count-input .btn a i.fas {
    /* Bu·ªôc m√†u ch·ªØ s√°ng */
    color: var(--white-smoke) !important;
    
    /* Ghi ƒë√® Webkit (Chrome, Edge) */
    -webkit-text-fill-color: var(--white-smoke) !important;
    
    /* Bu·ªôc filter ƒë·ªÉ x·ª≠ l√Ω icon font ƒëen */
    filter: brightness(0) invert(1) !important; 
    
    /* Hack cu·ªëi c√πng */
    text-shadow: 0 0 1px var(--white-smoke) !important;
}
/* =================================================================
   GHI ƒê√à BI·∫æN CSS G·ªêC CHO DARK MODE (ƒê·ªò ∆ØU TI√äN CAO)
   ================================================================= */
body.dark-mode {
    /* 1. Thay ƒë·ªïi m√†u ch·ªØ g·ªëc c·ªßa body */
    color: var(--white-smoke) !important;
    
    /* 2. Ghi ƒë√® bi·∫øn Bootstrap ch√≠nh cho m√†u ch·ªØ */
    --bs-body-color: var(--white-smoke) !important; 
    
    /* 3. Ghi ƒë√® bi·∫øn m√†u vƒÉn b·∫£n/icon c·ªßa theme */
    --cz-text-color: var(--white-smoke) !important;
    --cz-heading-color: var(--white-smoke) !important;
    
    /* 4. Ghi ƒë√® m√†u c·ªßa c√°c th√†nh ph·∫ßn UI */
    --cz-component-color: var(--white-smoke) !important;
    --cz-icon-color: var(--white-smoke) !important;
}

/* 5. √Åp d·ª•ng l·∫°i c√°c quy t·∫Øc ghi ƒë√® ICON m·∫°nh nh·∫•t (b·∫°n ƒë√£ c√≥) */
body.dark-mode .col-lg-8 .table .count-input .btn i.fas, 
body.dark-mode .col-lg-8 .table .count-input .btn:hover i.fas,
body.dark-mode .col-lg-8 .table .count-input .btn:focus i.fas {
    color: #F5F5F5 !important; /* M√É M√ÄU C·ª®NG */
    -webkit-text-fill-color: #F5F5F5 !important;
    filter: brightness(0) invert(1) !important; 
}
/* =================================================================
   üî• FIX TUY·ªÜT ƒê·ªêI CU·ªêI C√ôNG CHO ICON D·∫§U +/- (Ghi ƒë√® m·ªçi th·ª©)
   ================================================================= */

/* 1. BU·ªòC M√ÄU N√öT CHA (A.btn-icon) V√Ä VI·ªÄN: S·ª¨ D·ª§NG M√ÄU N·ªÄN T·ªêI V√Ä VI·ªÄN S√ÅNG */
/* √Åp d·ª•ng cho tr·∫°ng th√°i M·∫∑c ƒë·ªãnh, Hover, Focus */
body.dark-mode .col-lg-8 .table .count-input .btn-icon,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:hover,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:focus,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:active {
    /* M√ÄU N·ªÄN: ƒê·ªìng b·ªô v·ªõi n·ªÅn t·ªëi */
    background-color: var(--primary-super-dark) !important; 
    
    /* M√ÄU VI·ªÄN: M√†u s√°ng */
    border: 1px solid var(--primary-light) !important;
    
    /* M√ÄU CH·ªÆ: Bu·ªôc m√†u s√°ng */
    color: #F5F5F5 !important; 
    
    /* Ghi ƒë√® Webkit cho n√∫t cha */
    -webkit-text-fill-color: #F5F5F5 !important;
}

/* 2. BU·ªòC M√ÄU ICON CON (I.fas) V√Ä PSEUDO-ELEMENT: M√ÄU S√ÅNG TUY·ªÜT ƒê·ªêI */
/* Nh·∫Øm m·ª•c ti√™u I.fas (Icon) v√† ::before (n·ªôi dung th·ª±c t·∫ø c·ªßa Font Awesome) ·ªü M·ªåI TR·∫†NG TH√ÅI */
body.dark-mode .col-lg-8 .table .count-input .btn-icon i.fas,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:hover i.fas,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:focus i.fas,
body.dark-mode .col-lg-8 .table .count-input .btn-icon i.fas::before,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:hover i.fas::before,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:focus i.fas::before {
    /* BU·ªòC M√ÄU C·ª®NG TUY·ªÜT ƒê·ªêI */
    color: #F5F5F5 !important;
    
    /* GHI ƒê√à WEB-KIT */
    -webkit-text-fill-color: #F5F5F5 !important;
    
    /* HACK FILTER M·∫†NH M·∫º NH·∫§T: ƒê·∫£o ng∆∞·ª£c m√†u ƒëen th√†nh tr·∫Øng */
    filter: brightness(0) invert(1) !important;
    
    /* HACK TEXT-SHADOW: T·∫°o h√†o quang tr·∫Øng ƒë·ªÉ che m·ªù m√†u ƒëen */
    text-shadow: 0 0 1px #F5F5F5 !important;
}
/* 1. M√ÄU N√öT CHA (.btn-icon) V√Ä VI·ªÄN KHI HOVER */
/* S·ª¨ D·ª§NG M√ÄU N·ªÄN √çT T·ªêI H∆†N */
body.dark-mode .col-lg-8 .table .count-input .btn-icon:hover,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:focus,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:active {
    /* M√ÄU N·ªÄN HOVER: Chuy·ªÉn sang m√†u t·ªëi nh∆∞ng s√°ng h∆°n (Primary Dark) */
    background-color: var(--primary-dark) !important; 
    
    /* M√ÄU VI·ªÄN HOVER: Vi·ªÅn s√°ng h∆°n ƒë·ªÉ n·ªïi b·∫≠t */
    border: 1px solid var(--primary-lighter) !important;
    
    /* M√ÄU CH·ªÆ: Bu·ªôc m√†u s√°ng */
    color: var(--white-smoke) !important; 
}
/* 2. M√ÄU ICON CON (I.fas) KHI HOVER (Ph·∫ßn n√†y n·∫±m trong kh·ªëi r·ªông h∆°n) */
body.dark-mode .col-lg-8 .table .count-input .btn-icon:hover i.fas,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:focus i.fas,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:hover i.fas::before,
body.dark-mode .col-lg-8 .table .count-input .btn-icon:focus i.fas::before {
    /* BU·ªòC M√ÄU S√ÅNG H∆†N: D√πng m√†u tr·∫Øng tinh (#FFFFFF) */
    color: #FFFFFF !important;
    
    /* GHI ƒê√à WEB-KIT */
    -webkit-text-fill-color: #FFFFFF !important;
    
    /* TƒÇNG ƒê·ªò S√ÅNG B·∫∞NG HACK FILTER (t·ª´ invert(1) th√†nh invert(1) v√† tƒÉng saturation/contrast n·∫øu c·∫ßn) */
    /* Ch√∫ng ta v·∫´n ph·∫£i gi·ªØ invert(1) ƒë·ªÉ ƒë·ªïi m√†u ƒëen sang tr·∫Øng, n√™n ch·ªâ c·∫ßn ƒë·∫£m b·∫£o color l√† #FFFFFF */
    filter: brightness(1.2) invert(1) !important; /* TƒÉng ƒë·ªô s√°ng (brightness) l√™n 1.2 l·∫ßn */
}
/* =================================================================
   FIX ƒê·ªíNG B·ªò M√ÄU N√öT "GO TO CHECKOUT" (GI·ªêNG N√öT CART)
   ================================================================= */

/* 1. N√öT CHECKOUT (N·∫±m trong kh·ªëi T√≥m t·∫Øt ƒë∆°n h√†ng .bg-body-tertiary) - Tr·∫°ng th√°i M·∫∑c ƒë·ªãnh */
/* Selector c·ª±c m·∫°nh nh·∫Øm m·ª•c ti√™u v√†o n√∫t btn-dark */
body.dark-mode .bg-body-tertiary a.btn-dark,
body.dark-mode .bg-body-tertiary .btn-dark {
    /* M√ÄU N·ªÄN: Bu·ªôc th√†nh ƒêEN TUY·ªÜT ƒê·ªêI */
    background-color: var(--primary-medium) !important; 
    border-color: var(--primary-medium) !important; 
    /* M√ÄU CH·ªÆ: Bu·ªôc th√†nh TR·∫ÆNG */
    color: #FFFFFF !important;
}

/* 2. N√öT CHECKOUT - Tr·∫°ng th√°i Hover/Focus (M√†u t·ªëi h∆°n/s√°ng h∆°n m·ªôt ch√∫t khi di chu·ªôt) */
body.dark-mode .bg-body-tertiary a.btn-dark:hover,
body.dark-mode .bg-body-tertiary a.btn-dark:focus {
    /* M√ÄU N·ªÄN HOVER: D√πng m√†u t·ªëi ƒë√£ ƒë·ªãnh nghƒ©a (Primary Dark) ƒë·ªÉ t·∫°o hi·ªáu ·ª©ng */
    background-color: var(--primary-dark) !important; 
    /* M√ÄU VI·ªÄN HOVER: ƒê·ªìng b·ªô n·ªÅn hover */
    border-color: var(--primary-dark) !important;
    /* M√ÄU CH·ªÆ HOVER: Bu·ªôc th√†nh TR·∫ÆNG */
    color: #FFFFFF !important;
}

/* 3. Fix Icon b√™n trong n√∫t Checkout (i.ci-chevron-right) */
body.dark-mode .bg-body-tertiary a.btn-dark i {
    color: #FFFFFF !important;
}
body.dark-mode div#shoppingCart a.btn-dark {
    background-color: var(--primary-medium) !important; 
    border-color: var(--primary-medium) !important;
    color: var(--white-smoke) !important;
}
body.dark-mode div#shoppingCart a.btn-dark:hover {
    background-color: var(--primary-dark) !important; 
    border-color: var(--primary-dark) !important;
}